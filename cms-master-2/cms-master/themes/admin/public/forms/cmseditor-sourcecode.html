<div data-jc="form__cmseditor.form__icon:code;if:sourcecode;title:@(Source code editor);width:1100;submit:cmseditorsourcecode/submit;cancel:cmseditorsourcecode/cancel" class="hidden">
	<div class="padding">
		<div data-jc="codemirror__cmseditor.sourcecode__height:500;required:true;tabs:true;trim:true">@(HTML)</div>
	</div>
	<div class="ui-form-buttons" data-jc="validation__cmseditor.sourcecode">
		<button name="cancel">@(Cancel)</button>
		<button name="submit">@(APPLY)</button>
	</div>
</div>

<script>

	PLUGIN('cmseditorsourcecode', function(exports) {

		exports.submit = function(com) {
			cmseditor.instance.replace(cmseditor.sourcecode);
			com.hide();
		};

		exports.cancel = function(com) {
			var editor = cmseditor.instance;
			editor.resize();
			editor.load('sourcecode');
			com.hide();
		};

	});

</script>